<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Random Chess</title>

  <link rel="stylesheet" href="css/chessboard-0.3.0.css" />
</head>
<body>
<div id="turn_desc"></div>
<br>
<div id="game_desc"></div>
<div id="board" style="width: 400px"></div>
<br>
<table border="1">
<tr>
<td>Bot:</td>
<td>Win</td>
<td>Draw</td>
<td>Lose</td>
</tr>
<tr>
<td>WHITE</td>
<td><span id="W_win"></span></td>
<td><span id="W_draw"></span></td>
<td><span id="W_lose"></span></td>
</tr>
<tr>
<td>BLACK</td>
<td><span id="B_win"></span></td>
<td><span id="B_draw"></span></td>
<td><span id="B_lose"></span></td>
</tr>
</table>
<p>Since <span id="played_since"></span></p>
<script src="js/json3.min.js"></script>
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/chessboard-0.3.0.js"></script>
<script>
var init = function() {
var board = ChessBoard('board');
polling()
function polling() {
  $.getJSON("state", function(json) {
    $("#played_since").html(json["played_since"]);
    $("#game_desc").html(json["game_desc"]);
    board.position(json["fen"]);
    $("#turn_desc").html(json["turn_desc"]);
    $("#W_win").html(json["W_win"]);
    $("#W_draw").html(json["W_draw"]);
    $("#W_lose").html(json["W_lose"]);
    $("#B_win").html(json["B_win"]);
    $("#B_draw").html(json["B_draw"]);
    $("#B_lose").html(json["B_lose"]);
    console.log(json);
  });
}

setInterval(polling, 1000);
};
$(document).ready(init);
</script>
</body>
</html>